'use strict';(function(e){function d(){}function c(c,g){if(a)return g.indexOf(c);for(var i=g.length;i--;)if(g[i]===c)return i;return-1}var b=d.prototype,h=[],a=h.indexOf?!0:!1;b.getListeners=function(c){var g=this._events||(this._events={});return g[c]||(g[c]=[])};b.addListener=function(a,g){var i=this.getListeners(a);-1===c(g,i)&&i.push(g);return this};b.removeListener=function(a,g){var i=this.getListeners(a),b=c(g,i);-1!==b&&(i.splice(b,1),0===i.length&&(this._events[a]=null));return this};b.addListeners=
function(c,a){return this.manipulateListeners(!1,c,a)};b.removeListeners=function(c,a){return this.manipulateListeners(!0,c,a)};b.manipulateListeners=function(c,a,i){var b,f,h=c?this.removeListener:this.addListener,c=c?this.removeListeners:this.addListeners;if("object"===typeof a)for(b in a){if(a.hasOwnProperty(b)&&(f=a[b]))"function"===typeof f?h.call(this,b,f):c.call(this,b,f)}else for(b=i.length;b--;)h.call(this,a,i[b]);return this};b.removeEvent=function(a){a?this._events[a]=null:this._events=
null;return this};b.emitEvent=function(a,c){for(var b=this.getListeners(a),d=b.length;d--;)!0===b[d].apply(null,c||h)&&this.removeListener(a,b[d]);return this};"function"===typeof define&&define.amd?define(function(){return d}):e.EventEmitter=d})(this);
StackExchange.realtime=function(){function e(){if(!(null==n||1!=n.readyState))for(var a=0,c=u.length;a<c;a++)d("sending: "+u[a]),n.send(u[a])}function d(a){StackExchange.options.user.isDeveloper&&console.log(a)}function c(){p.addListener("hb",function(a){n.send(a)})}function b(a){u.push(a);e()}function h(a,c){1!=$("#vote-accepted-"+a.answerid).length&&($(".vote-accepted-on").remove(),c||$('.vote input[value="'+a.answerid+'"]').parent().append('<span class="vote-accepted-on" title="The question owner accepted this as the best answer">accepted</span>'))}
function a(){$.ajax({type:"POST",url:"/review/suggested-edit-count",data:{fkey:StackExchange.options.user.fkey},dataType:"json",success:function(a){if(a&&a.count){var a=a.count,c=$(".suggested-edits-count");c.text()!=a&&(0==$(":animated").length&&c.fadeTo("fast",0.5).fadeTo("fast",1),c.text(a))}}})}function k(){$("#new-answer-activity").remove();$("#answers-header").prepend(v)}function g(a){var c=$(".question[data-questionid="+a.id+"], .answer[data-answerid="+a.id+"]"),b=$('<div class="new-post-activity" data-postid="'+
a.id+'">an edit has been made to this post; click to load</div>');0<c.find(".new-post-activity[data-postid="+a.id+"]").length||c.prepend(b.click(function(){$(".new-post-activity[data-postid="+a.id+"]").remove();0==$("#review-content").length&&$.get("/posts/"+a.id+"/ajax-load-mini?title=true",x(c.find(".postcell, .answercell"),a));$(document).trigger("refreshEdit",a.id)}))}function i(a,c,b){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(a.body)||(a.fetch&&$.ajax({url:"/posts/"+
a.id+"/"+b}).done(function(c){a.body=c;l[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),siteid:a.siteid}}),l[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),siteid:a.siteid},$(".new-post-activity").remove(),$("#question-mini-list, #questions").prepend(w),c&&f())}function j(a,c){return a.index<c.index?-1:a.index>c.index?1:0}function f(){var a=[],c;for(c in l)l.hasOwnProperty(c)&&a.push(l[c]);a=a.sort(j);for(c=0;c<a.length;c++){var b=a[c];$("#question-summary-"+b.id).remove();$(b.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}o(0);
null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,q);"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);m();$(".new-post-activity").remove();l={}}function o(a){var c=document.title.replace(/^\(\d*\*?\) /,"");0<a&&(c="("+a+") "+c);window.setTimeout(function(){$(document).attr("title",c)},200)}function m(){for(var a=$("span.relativetime, span.relativetime-clean"),c=0;c<a.length;c++)if(a[c].title){var b;b=a[c].title;if(null==b||20!=b.length)b=
void 0;else{b=b.substr(0,10)+"T"+b.substr(11,10);b=new Date(b);b=((new Date).getTime()-b.getTime())/1E3;var f=Math.floor(b/86400);b=isNaN(f)||0>f||31<=f?void 0:0==f&&(2>b&&"just now"||60>b&&Math.floor(b)+(t?"s ago":" secs ago")||120>b&&(t?"1m ago":"1 min ago")||3600>b&&Math.floor(b/60)+(t?"m ago":" mins ago")||7200>b&&(t?"1h ago":"1 hour ago")||86400>b&&Math.floor(b/3600)+(t?"h ago":" hours ago"))}b&&(a[c].innerHTML=b)}}var n,l={},s=[],r=0,u=[],y=!1,t=!1,q,p=new EventEmitter,v=function(){var a=Object.keys(s).length;
0==a&&$("#new-answer-activity").remove();return $('<div id="new-answer-activity">'+a+" new answer"+(1<a?"s":"")+" to this question</div>").click(function(){StackExchange.realtime.expandAnswers()})},x=function(a,c){return function(b){var f=$(b).find(".postcell, .answercell"),i=a.closest(".question").length;a.replaceWith(f.hide());b=$(b).attr("data-title");null!=b&&$("h1 a.question-hyperlink").text(b);f.fadeIn(400,function(){StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts();
styleCode()});StackExchange.comments.init({post:f});StackExchange.vote.init(c.id);StackExchange.vote||StackExchange.question.bindAnonymousVoteDisclaimers();a.find("a[id^='link-post-']").click(function(a){if(!a.ctrlKey&&!a.metaKey)return StackExchange.question.showShareTip($(this),options.showCitation),!1});StackExchange.question.bindSuggestedEditPopupLinks();i&&StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.init();window.history.pushState(c,"new post","#"+c.id)}},w=function(){var a=
Object.keys(l).length;o(a);return $('<div class="new-post-activity">'+a+" question"+(1<a?"s":"")+" with new activity</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};return{init:function(a){var b=a.split(","),b=b[r%b.length];null!=b&&0!=b.indexOf("ws://")&&(b="ws://"+b);if("WebSocket"in window||"MozWebSocket"in window){if(n)try{d("closing WebSocket"),n.close()}catch(f){}n||(d("opening WebSocket to: "+b),n="WebSocket"in window?new WebSocket(b):new MozWebSocket(b),n.onopen=
function(){y||(y=!0);r=0;d("WebSocket opened");e();c();setInterval(m,6E4)},n.onmessage=function(a){a=$.parseJSON(a.data);p.emitEvent(a.action,[a.data])},n.onclose=function(){n=null;d("WebSocket closed");5>r&&(r++,d("reconnect attempt:"+r),setTimeout('StackExchange.realtime.init("'+a+'")',1E3*((new Date).getTime()%50/20)))},n.onerror=function(){d("WebSocket failed");n=null})}},expandActiveQuestions:f,expandAnswers:function(){$("#tabs").show();var a=$("#answers #answers-header .answers-subheader h2"),
b=parseInt(a.text())+s.length;isNaN(b)&&(b=s.length);a.text(b+" Answer"+(1<b?"s":""));$("#new-answer-activity").remove();var c=$("#answers #answers-header");$.each(s,function(a,b){$.get("/posts/"+b+"/ajax-load-mini",function(a){a=$(a);a.insertAfter(c).hide().fadeIn(400,function(){StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts();styleCode()});StackExchange.comments.init({post:a});StackExchange.vote.init(b)})});StackExchange.vote||StackExchange.question.bindAnonymousVoteDisclaimers();
c.find("a[id^='link-post-']").click(function(a){if(!a.ctrlKey&&!a.metaKey)return StackExchange.question.showShareTip($(this),options.showCitation),!1});StackExchange.question.bindSuggestedEditPopupLinks();m();s=[]},subscribeToActiveQuestions:function(a,c,f,g,h,d,e){a=a+"-"+c;q=f;t=d;b(a);p.addListener(a,function(a){a=$.parseJSON(a);if(null!=h)for(var b=0;b<h.length;b++)if(-1==$.inArray(h[b],a.tags))return;i(a,g,c);null!=e&&e(a)})},subscribeToInboxNotifications:function(){if(null!=StackExchange.options.user.accountId){var a=
StackExchange.options.user.accountId+"-inbox";b(a);p.addListener(a,function(a){$(".unreadCount").remove();var b=$('<a class="unreadCount" title="unread messages in your inbox">'+a+"</a>").insertAfter(".genu");$("#portalLink .unreadCount").css({marginTop:b.css("margin-top"),opacity:1},2E3);genuwine.setUnreadCount(a)})}},subscribeToQuestion:function(a,c){var f=a+"-question-"+c;b(f);p.addListener(f,function(a){a=$.parseJSON(a);if(a.acctid!=StackExchange.options.user.accountId)switch(a.a){case "score":var b=
$('.vote input[value="'+a.id+'"]').siblings(".vote-count-post");b.text()!=a.score&&(b.text(a.score),0==$(":animated").length&&b.fadeTo("fast",0.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts());break;case "comment-add":0==$("#comment-"+a.commentid).length&&(a=$("#comments-link-"+a.id),b=a.data("comments-count")||0,b++,a.data("comments-count",b),a.attr("title","expand to show all comments on this post, or add one of your own"),a.html("add / show <b>"+
b+"</b> more comment"+(1<b?"s":"")).show().fadeTo("fast",0.7).fadeTo("fast",1));break;case "answer-add":0==$("#answer-"+a.answerid).length&&(s.push(a.answerid),StackExchange.cardiologist.isHeartBeating()?StackExchange.helpers.DelayedReaction(k,5E3).trigger():k(),StackExchange.cardiologist.notifiedOfNewAnswer());break;case "accept":h(a);break;case "unaccept":h(a,!0);break;case "post-edit":g(a)}})},unsubscribeToQuestion:function(a,b){var c=a+"-question-"+b;d("unsubscribing: "+c);var f=$.inArray(c,u);
-1!=f&&(u.splice(f,1),null==n||1!=n.readyState||n.send("-"+c))},subscribeToReputationNotifications:function(a){null!=StackExchange.options.user.accountId&&(a=a+"-"+StackExchange.options.user.userId+"-reputation",b(a),p.addListener(a,function(a){var b=$("#hlinks .reputation-score");b.text()!=a.score&&(0==$(":animated").length&&b.fadeTo("fast",0.8).fadeTo("fast",1),b.text(a))}))},subscribeToSuggestedEdits:function(c){c+="-suggested-edits-count-update";b(c);p.addListener(c,function(){a()})},updateRelativeDates:m,
subscribeToReviewDashboard:function(a){a+="-review-dashboard-update";b(a);p.addListener(a,function(a){var a=$.parseJSON(a),b=$('.dashboard-activity[data-review-task="'+a.i+'"]');0==b.find('.dashboard-user[data-user="'+a.u+'"]').length&&(b.find(".dashboard-user:nth-child(6)").remove(),b.children().css({left:"-44px"}),b.prepend(a.html).children().animate({left:0}))})}}}();"use strict";StackExchange.anonymous={};
var gauth=function(){return{informStackAuth:function(e){if(gauth.enabled()){var d=document.domain;"meta."==d.substr(0,5)&&(d=d.substr(4,d.length-4));var c=$.cookie("gauth");if(null==c)$.cookie("gauth",null,{path:"/",domain:d}),$.cookie("gauth",null,{path:"/",domain:document.domain});else{"."!=d.charAt(0)&&(d="."+d);$.cookie("gauth",null,{path:"/",domain:d});$.cookie("gauth",null,{path:"/",domain:document.domain});var b=c.indexOf(":"),d=c.substr(0,b),c=c.substr(b+1),h=e+"/auth/global/write?authToken="+
encodeURIComponent(d)+"&nonce="+encodeURIComponent(c);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+h+"'></iframe>")})}}},checkStackAuth:function(e){if(gauth.enabled()&&null==$.cookie("gauthed")){$.cookie("gauthed","1",{path:"/"});var d=function(c){if(c.origin==e)if("No Local Storage"==c.data)gauth.noGAuthStorage();else if("No Session"==c.data)gauth.noGAuthSession();else{var b=c.data.substr(0,c.data.indexOf(",")),c=c.data.substr(c.data.indexOf(",")+1);$.post("/users/login/global",
{authToken:b,nonce:c},function(b){gauth.globallyAuthed(b)},"json")}};window.attachEvent?window.attachEvent("onmessage",d):window.addEventListener("message",d,!1);$.post("/users/login/global/request","",function(c){var b=e+"/auth/global/read?request="+encodeURIComponent(c.token)+"&nonce="+encodeURIComponent(c.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+b+"'></iframe>")})},"json")}},enabled:function(){$.cookie("enabledCheck","1");
if(null==$.cookie("enabledCheck"))return!1;$.cookie("enabledCheck",null);return"undefined"==typeof localStorage?!1:!0},noGAuthStorage:function(){},noGAuthSession:function(){},globallyAuthed:function(e){if(e&&e.Message){var e=e.Message+" ",d,c=!1,b=""+window.location,h=b.indexOf("returnurl=");if(-1!=h){var a=b.indexOf("&",h);-1==a&&(a=b.length);d=decodeURIComponent(b.substring(h+10,a));d=/^(?:http:\/\/|\/)/.test(d)?d.replace(/[^-a-z0-9+&@#\/%?=~_|!:,.;()]/g,""):null}-1!=b.indexOf("/users/login")&&
(c=!0,d=d||"/");StackExchange.helpers.showFancyOverlay({message:c?e+"<br>You are being redirected...":e+(d?"<a href=\"javascript:window.location='"+d+"'\">Click here</a> to return to your last location.":'<a href="javascript:location.reload(true)">Click here</a> to refresh the page.'),showClose:!c,complete:function(){c&&(window.location=d)}})}}}}(),genuwine=function(){var e,d="",c,b,h=[],a=function(){return $(".genu").hasClass("genu-on")},k=function(){var a=$(".genu"),f=$("#seWrapper");if(0==f.length||
0<c||b){i();var f=$("#seWrapper"),d;0<c?(d=$("#seTabInbox"),r(d)):b?(d=$("#seTabNotices"),j(d)):(d=$("#seTabHot"),m(d));d.addClass("seCurrent")}if(d=a.hasClass("genu-on")){$(".unreadCountTab").remove();$("#portalLink .itemBoxNew").removeClass("itemBoxNew");f.fadeOut("fast");for(f=0;f<h.length;f++)h[f]();h=[];0<b&&$("#portalLink .unreadCount").text(""+b).addClass("newNotices").show().click(k)}else f.fadeIn("fast"),$("#portalLink .unreadCount").hide();a.toggleClass("genu-on",!d);-1==c&&$(a).ready(function(){$("#seTabInbox").hide()});
g($("#seTabInbox"),$("#seTabNotices"))},g=function(a,f){StackExchange.options.site.isNoticesTabEnabled&&b&&0==f.find(".unreadCountTab").length&&f.prepend('<span class="unreadCountTab newNotices">'+b+"</span>");0<c&&0==a.find(".unreadCountTab").length&&a.prepend('<span class="unreadCountTab">'+c+"</span>")},i=function(){$("#seWrapper").remove();var a='<div id="seWrapper" class="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+d+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li>'+
(!StackExchange.options.user.isAnonymous?'<li><a id="seTabInbox">Inbox</a></li>':"")+(!StackExchange.options.user.isAnonymous&&StackExchange.options.site.isNoticesTabEnabled?'<li><a id="seTabNotices">Notifications</a></li>':"")+'</ul></div><div class="seContainer"></div><div class="seFooter">'+(!StackExchange.options.user.isAnonymous?'<div id="seTabEmail" class="seEmailAccount"><a>email settings</a></div>':"")+'<a id="seClose">close</a></div></div>',b=$("#hlinks"),b=b.height()+b.offset().top+5;$(a).appendTo("#portalLink").css({top:b}).find("ul.seNavLinks a, #seTabEmail").click(function(){var a=
$(this);$(".seNavLinks a").removeClass("seCurrent");a.addClass("seCurrent");switch(a.attr("id")){case "seTabHot":m(a);$("#seContainerSites, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerHot").fadeIn("fast");break;case "seTabSites":0==$("#seContainerSites").length&&o(a);$("#seContainerHot, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerSites").fadeIn("fast");break;case "seTabInbox":r(a);$("#seContainerHot, #seContainerSites, #seContainerEmail, #seContainerNotices").hide();
$("#seContainerInbox").fadeIn("fast");break;case "seTabEmail":0==$("#seContainerEmail").length&&n(a);$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerNotices").hide();$("#seContainerEmail").fadeIn("fast");break;case "seTabNotices":j(a),$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerEmail").hide(),$("#seContainerNotices").fadeIn("fast")}});$("#seClose").click(function(){k()})},j=function(a){0==$("#seContainerNotices").length&&q(a,"/notices/genuwine","jsonp",
f,!0)},f=function(a,c){for(var f='<div id="seContainerNotices" style="display:none">',i=0;i<c.length;i++)var d=c[i],f=f+('<div class="noticeBox'+(d.is_unread?" itemBoxNew":"")+'"><a href="'+d.site_url+'" class="siteLinkFavicon"><img src="'+d.icon+'"></a><div class="siteInfo"><p>'+d.text+"</p></div></div>");p(a,f+"</div>");h.push(function(){b=0;g($("#seTabInbox"),$("#seTabNotices"))});b=0},o=function(a){q(a,d+"/genuwine/sites?callback=?&host="+document.location.host+(e?"&accountId="+e:""),"jsonp",
s)},m=function(a){0==$("#seContainerHot").length&&q(a,d+"/genuwine?callback=?","jsonp",l)},n=function(a){q(a,"/accounts/email-settings","json",function(a,b){function c(){$("#email-save").removeAttr("disabled");$("#email-confirmation").html("")}p(a,'<div id="seContainerEmail" style="display:none; font-size:11px;"><div class="itemBox" style="border-bottom: 0px"><p>Would you like to receive unread inbox messages via email?</p><div>Email: <input id="email-notify" name="email-notify" style="width:300px;" value="'+
b.verifiedEmail+'"></input></div><div><input type="radio" name="optIn" value="true" id="email-enable"'+(!0==b.optIn?'checked="checked"':"")+'"> <label for="email-enable">Email me my unread inbox messages </label> <select id="email-freq"><option value="3">every 3 hours</option><option value="24">daily</option><option value="168">weekly</option></select> </div><div><input type="radio" name="optIn" value="false" id="email-disable"'+(!0!=b.optIn?'checked="checked"':"")+'"> <label for="email-disable">Do not email me inbox messages</label></input></div><div><input type="button" name="save" id="email-save" value="Save" disabled="disabled"></input></div><div id="email-confirmation" style="display:none;"></div></div></div>');
$("#email-freq").val(b.freq).on("click focus",function(){$("#email-enable").prop("checked",!0)});$("#email-notify").focus().keyup(c);$("#email-enable, #email-disable, #email-freq").change(c);$("#email-save").click(function(){v();$.post("/accounts/verified-email-set",{email:$("#email-notify").val(),fkey:StackExchange.options.user.fkey,optin:$("input[name=optIn]:checked").val(),freq:$("#email-freq").val()},function(a){$("#seWrapper .seContainer").removeSpinner();$("#email-confirmation").html(a.message).fadeIn();
a.success&&$("#email-save").attr("disabled","disabled")},"json")})},!0)},l=function(a,b){for(var c=$("<div/>"),f='<div id="seContainerHot" style="display:none">',i=0;i<b.length;i++)var g=b[i],d=g.SiteId,h='href="http://'+d+"/q/"+g.Id+'?hq=1"',e=parseInt(g.DisplayScore,10),f=f+('<div class="itemBox"><a '+h+' class="seNumAnswer">'+e+'</a><div class="siteInfo"><p><a '+h+">"+c.text(g.Title).html()+'</a></p><a href="http://'+d+'" class="siteLink">'+d+"</a></div></div>");p(a,f+"</div>")},o=function(a){q(a,
d+"/genuwine/sites?callback=?&host="+document.location.host+(e?"&accountId="+e:""),"jsonp",s)},s=function(a,b){for(var c='<div id="seContainerSites" style="display:none">',f=0;f<b.length;f++)var i=b[f],g=i.Name,d='href="http://'+i.Id+'?as=1"',c=c+('<div class="itemBox"><a '+d+' class="siteFavicon"><img src="'+i.FaviconUrl+'" alt="'+g+'"></a><div class="siteInfo"><p><a '+d+">"+g+"</a></p><a "+d+' class="siteLink">'+i.Description+"</a></div></div>");p(a,c+"</div>")},r=function(a){-1!=c&&(0==$("#seContainerInbox").length||
0<c)&&u(a)},u=function(a){q(a,"/inbox/genuwine","json",y,!0)},y=function(a,b){for(var f='<div id="seContainerInbox" style="display:none">',i=0;i<b.length;i++){var d=b[i],k='href="'+d.Url+'"',j='title="'+d.CreationDate+'"',s=d.Count,f=f+('<div class="itemBox'+(d.IsNew?" itemBoxNew":"")+'"><a '+k+' class="siteLinkFavicon"><img src="'+d.FaviconUrl+'" alt="'+d.SiteUrl+'"></a><div class="siteInfo">');"careers message"==d.Type?f+="<p><a "+k+' style="font-weight:normal"><b>'+d.Title+"</b> wants to contact you on <b>Stack Overflow Careers</b></a></p>":
"invitation"==d.Type?(j=d.Count,f+="<p><a "+k+' style="font-weight:normal"><b>'+j+"</b> "+("invitation"+(1<j?"s":""))+" awarded on <b>Stack Overflow Careers</b></a></p>"):f+="<p>"+(1<s?s+" ":"")+d.Type+" on <a "+k+" "+j+">"+d.Title+"</a></p>";f+='<p class="inboxSummary">'+(d.Summary||"")+"</p></div></div>"}e&&5<=b.length&&(f+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+e+'?tab=inbox">more inbox messages &hellip;</a></div></div>');p(a,f+"</div>");
h.push(function(){c=0;g($("#seTabInbox"),$("#seTabNotices"))});c=0},t={},q=function(a,b,c,f,i){var d=a.attr("id");if(t[d])v();else{t[d]=!0;v();var g=function(){t[d]=!1;StackExchange.helpers.showErrorPopup($("#seWrapper .seContainer"),"An error occurred while loading - please try again.")};$.ajax({type:"GET",url:b,dataType:c,success:function(b){t[d]=!1;b&&(0<b.length||i)?f(a,b):g()},error:g,complete:function(){$("#seWrapper .seContainer").removeSpinner()}})}},p=function(a,b){var c=$(b);c.prependTo("#seWrapper .seContainer");
a.hasClass("seCurrent")&&c.fadeIn("fast")},v=function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.addSpinner("#seWrapper .seContainer",{position:"relative",left:"10px",top:"10px"})},x=function(){var a=$("#portalLink .unreadCount"),b=a.css("margin-top");a.css({marginTop:-20,opacity:0}).show().animate({marginTop:b,opacity:1},2E3)},w=function(){var a=$("#portalLink .unreadCount"),b=a.data("events");(!b||!b.click)&&0<a.length&&a.click(k)};return{isVisible:a,click:k,setUnreadCount:function(b){c=
b;var f=$("#seTabInbox");0<b?($("#portalLink .unreadCount").text(c),f.hasClass("seCurrent")&&a()&&u(f),x()):$("#portalLink .unreadCount").text("").hide();$("#portalLink .unreadCount").removeClass("newNotices");w()},animateInbox:x,init:function(f,i,g){var h=$(".genu");1<=h.length&&(h[0].onclick=null);e=f;d=h.attr("href");c=i;b=g;!(0<c)&&StackExchange.options.site.isNoticesTabEnabled&&(99<b&&(b=99),0<b&&$("#portalLink .unreadCount").text(""+b).addClass("newNotices"),w());h.removeAttr("href").click(k);
w();$(document).click(function(b){a()&&!$.contains($("#portalLink")[0],b.target)&&k()})}}}();
StackExchange.notify=function(){function e(a,b){var c=$("#dismissed-messages");c.val(c.val()+"~"+a+(b?" "+b:"")+"~")}function d(a,b){var c=$("#dismissed-messages").val();return!c?!1:RegExp("~"+a+(b?" "+b:"")+"~").test(c)}function c(a,b,c){var d=parseInt($("body").css("margin-top").match(/\d+/)),a=b*d/a;c?$("body:not(.no-message-slide)").animate({marginTop:a+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",a+"px")}var b=0,h=function(a,d){var f=$("#notify-"+a+(d?"-"+d:""));-1==
a?$.cookie("m","0",{expires:90,path:"/"}):-1<a&&$.post("/messages/mark-as-read",{messagetypeid:a,id:d?d:null});e(a,d);b--;f.fadeOut("fast",function(){c(b+1,b,!0);f.remove()})},a=function(a){b++;if(d(a.messageTypeId,a.id))return!1;var c="";a.messageTypeId&&(c=' id="notify-'+a.messageTypeId+(a.id?"-"+a.id:"")+'"');c="<div"+c+' style="display:none"><span class="notify-close"><a title="dismiss this notification">&times;</a></span><span class="notify-text">'+a.text+"</span>";if(a.showProfile)var f=encodeURIComponent("/users/"+
a.userId+"?tab=badges&sort=recent"),c=c+(' See your <a href="/messages/mark-as-read?messagetypeid='+a.messageTypeId+"&returnurl="+f+'">profile</a>.');c=$(c+"</div>");c.find(".notify-close").click(function(){a.close&&a.close();h(a.messageTypeId,a.id)});$("#notify-container").append(c);return!0},k=function(){$("#notify-container div").fadeIn("slow")},g=function(b,c){var f=$('<div class="link-more"><a>view '+b+" more notification"+(1!=b?"s":"")+"</a></div>");$("#notify-container").append(f);f.click(function(){f.detach();
for(var b=0;b<c.length;b++)a(c[b]);k()})};return{showMessages:function(d,h){for(var f=0,e=h?2:d.length,m=0;m<e&&m<d.length;m++)a(d[m])&&f++;c(b,f,!1);k();h&&f<d.length&&(e=d.slice(e),g(d.length-f,e))},show:function(b,c){$("body:not(.no-message-slide)").animate({marginTop:"2.5em"},"fast","linear");a({text:b,messageTypeId:c});k()},close:h,getMessageText:function(a){return $("#notify-"+a+" .notify-text").text()}}}();
function moveScroller(){var e=$("#scroller").width(),d=function(){var c=$(window).scrollTop(),b=$("#scroller-anchor").offset().top,d=$("#scroller");c>b?d.height()>$(window).height()?d.css({position:"fixed",top:"",bottom:"0px",width:e}):d.css({position:"fixed",top:"0px",bottom:"",width:e}):c<=b&&d.css({position:"relative",top:"",bottom:""})};$(window).scroll(d).resize(d);d()}
var styleCode=function(){return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);var e=!1;$("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),e=!0);var d;if(d=!$(this).hasClass("prettyprint")){d=$(this);var c=$("#prettify-lang").text();""!=c?(d.addClass(c),d=!0):d=!1}d&&($(this).addClass("prettyprint"),e=!0)});e&&("undefined"!=typeof jtab?jtab.renderimplicit():StackExchange.using("prettify",
function(){StackExchange.prettify.applyCodeStyling()}))}}();
StackExchange.helpers.MagicPopup=function(e){function d(a,b){var f=$("<div id='"+e.id+"'/>").html(b),d=$("<div />").css({overflow:"hidden",position:"absolute","z-index":1002,width:1,height:1,top:0,left:0}).append(f).appendTo("body");window.MathJax&&MathJax.Hub.Typeset(f.attr("id"));var g=e.showing(a,f),k={left:g.left};g.hasOwnProperty("bottom")?(k.bottom=g.bottom,k.top="auto"):k.top=g.top;var l;e.shown&&(l=function(){e.shown(a,f)});d.css(k).animate({height:f.outerHeight()+8,width:f.outerWidth()+8},
300,l);c=function(){d.stop().remove();e.removed&&e.removed(a,f);c=h=null};h=StackExchange.helpers.DelayedReaction(c,5);k=d;g.additional&&(k=k.add(g.additional));k.hover(h.cancel,h.trigger)}var c,b,h,a,k={},g=StackExchange.helpers.DelayedReaction(function(b,g){if(!a&&b){var f;e.cache&&"c_"+b in k?f=$.Deferred().resolve(k["c_"+b]):(f=$.ajax({type:"GET",url:b,dataType:"html"}),e.cache&&f.done(function(a){k["c_"+b]=a}));f.done(function(a){c&&c();""!=a&&d(g,a)})}},500);$(document).delegate(e.selector,
{mouseenter:function(){if(h&&this===b)h.cancel();else return b=this,g.trigger(e.getUrl(this),this),a=!1},mouseleave:function(){a=!0;g.cancel();h&&h.trigger()}})};
StackExchange.tagmenu=function(){function e(b){var b=$(b),a=b.attr("href");if(!a||"/"!=a.charAt(0))return null;a=b.text();if(-1<a.indexOf("*"))return null;b.attr("title","");return"/tags/"+encodeURIComponent(a)+"/subscriber-info"}function d(b,a){var c=$(b),d=c.offset(),i=c.outerHeight(),c={left:d.left},e=d.top+i,i=d.left+a.outerWidth();a.height()+e>$(window).height()+$(window).scrollTop()?c.bottom=$(window).height()-d.top-8:c.top=e;d=Math.max(1024,$(window).width());i>d&&(c.left-=i-d);return c}var c,
b;return{init:function(h){c=h;b||(b=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({selector:".post-tag:not(.user-tag)",id:"tag-menu",getUrl:e,showing:d,shown:function(a,b){c&&c(b,$(a).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))}}}();
StackExchange.usermenu=function(){function e(c,a){var d=$(c).find("img:first"),g=d.offset(),e=d.height(),j=d.width(),f=Math.max(j,e),o=64*e/f,f=64*j/f,m=a.find("img:first").css({width:f,height:o}),n=m.offset();m.css("visibility","hidden");b=d.clone().css({position:"absolute",zIndex:300,left:g.left,top:g.top,width:j,height:e}).appendTo("body");var l=function(){m[0].complete?(m.css("visibility","visible"),b.fadeOutAndRemove()):setTimeout(l,500)};b.animate({width:f,height:o,top:g.top+n.top},200,l);return{top:g.top,
left:g.left-n.left,additional:b}}function d(){b.remove()}var c,b;return{init:function(){c||(c=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({selector:".user-hover .user-gravatar48, .user-hover .user-gravatar32",getUrl:function(b){b=/\/users\/([^/]+).*$/.exec($(b).closest(".user-hover").find(".user-details a").attr("href"));return!b?null:"/users/user-info/"+b[1]},cache:!0,id:"user-menu",showing:e,removed:d}))}}}();
StackExchange.chatAd=function(){function e(){var a=$(".question .post-taglist .post-tag");return!a.length?null:a.map(function(a,b){return $(b).text()}).get().join(" ")}function d(a){return 10>a?"0"+a:a}function c(a){var b=new Date;b.setTime(1E3*a);return[b.getUTCFullYear(),"-",d(b.getUTCMonth()+1),"-",d(b.getUTCDate())," ",d(b.getUTCHours()),":",d(b.getUTCMinutes()),":",d(b.getUTCSeconds()),"Z"].join("")}function b(a){var b=Math.floor((new Date).getTime()/1E3)-a,c=b%60,f=Math.floor(b/60),g=Math.floor(b/
3600);if(1>b)return"just now";if(60>b)return 1==c?"1 sec ago":c+" secs ago";if(3600>b)return 1==f?"1 min ago":f+" mins ago";if(86400>b)return 1==g?"1 hour ago":g+" hours ago";b=Math.floor(b/86400);if(1==b)return"yesterday";if(2>=b)return b+" days ago";a=new Date(1E3*a);return l[a.getMonth()]+" "+a.getDate()+" at "+a.getHours()+":"+d(a.getMinutes())}function h(a){var b=$("<div />");b.text(a);return b.html().replace('"',"&quot;")}function a(){$.get(f,null,function(a,b,c){i(a,b,c)})}function k(a){for(var c=
$('<div class="ad502-users" />'),f=0;f<a.length&&7>f;f++){var d=a[f],g=d.name;d.lastPost&&(g+=": "+b(d.lastPost));var e="http://www.gravatar.com/avatar/"+d.emailhash+"?s=23&d=identicon&r=PG",d=$('<a href="'+(j+"/users/"+d.id)+'" />');$("<img />").attr("title",g).attr("src",e).appendTo(d);c.append(d)}return c}function g(a){var b=a.user;return(a=a.userid)?'<a href="'+j+"/users/"+a+'">'+h(b)+"</a>":h(b)}function i(f){var d=$("#ad502-rooms");if(!f.error){d.html("");for(var e=f.rooms,i=0;i<e.length&&2>
i;i++){var l=e[i],q=j+"/rooms/"+l.id,p=$('<div class="ad502-room"></div>');p.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+h(l.name)+'"><a href="'+q+'">'+h(l.name)+"</a></span></h3>"));l.messages&&0<l.messages.length&&p.append($('<span title="'+c(l.lastPost)+'" class="ad502-last-message">'+b(l.lastPost)+" - "+g(l.messages[0])+"</span><br>"));l.singleImage?p.append($('<div class="ad502-users"><img src="'+j+"/rooms/users/"+l.id+'.jpeg" /></div>')):p.append(k(l.users));
d.append(p)}1<f.activeUsers?$("#h-chat-link").text(f.activeUsers+" People Chatting"):$("#h-chat-link").text("Visit Chat");$("#h-chat-link").attr("title",f.activeUsers+" users active in "+f.activeRooms+" rooms the last 60 minutes")}o<=n&&window.setTimeout(a,1E3*o);o+=m}var j,f,o=180,m=30,n=480,l="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");/^\/questions\/\d+/i.test(window.location.pathname)&&(n=0);return{init:function(b){j=b.chatUrl;f=b.reloadUrl;if(b.tagBased){var c=e();if(!c)return;
f+=(/\?/.test(f)?"&":"?")+"tags="+encodeURIComponent(c)}null===b.preloadData?a():i(b.preloadData,null,null)}}}();
StackExchange.helpers.noDiacritics=function(){var e={"\u00e0\u00e5\u00e1\u00e2\u00e4\u00e3\u00e5\u0105\u0250\u1d44\u1d9b":"a","\u00e6\u01e3\u01fd\u1d02\u1d46":"ae","\u00e7\u0107\u010d\u0109":"c","\u0111\u018d\u00f0\u00d0":"d","\u00e8\u00e9\u00ea\u00eb\u0119\u01dd\u1d08\u1d4c":"e","\u214e":"f","\u011f\u011d\u1d77":"g","\u0125\u0265\u02ae\u1da3":"h","\u00ec\u00ed\u00ee\u00ef\u0131\u1d09\u1d4e":"i","\u0135":"j","\u029e":"k","\u0142":"l","\u026f\u0270\u1d5a\u1dad\u1d1f":"m","\u00f1\u0144":"n","\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u0151":"o",
"\u0153\u0276\u1d14":"oe","\u0159\u0279\u027a\u027b\u02b4\u02b5":"r","\u015b\u015f\u0161\u015d":"s","\u00df":"ss","\u0287":"t","\u00de":"th","\u00f9\u00fa\u00fb\u00fc\u016d\u016f":"u","\u028c\u1dba":"v","\u028d":"w","\u00fd\u0178\u00ff\u028e":"y","\u017c\u017a\u017e":"z"};return function(d){for(var c in e)e.hasOwnProperty(c)&&(d=d.replace(RegExp("["+c+"]","g"),e[c]));return d}}();
function sanitizeAndSplitTags(e,d){for(var e=$.trim(e).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 "),c=e.split(/[\s|,;]+/),b=[],h=0;h<c.length;h++){var a=c[h].toLowerCase();StackExchange.options.site.nonAsciiTags||(a=StackExchange.helpers.noDiacritics(a));a=a.replace(/_/g,"-");a=a.replace(RegExp("[^a-z0-9.#+"+(d?"*":"")+(StackExchange.options.site.nonAsciiTags?"0-9,A-Z,_,a-z,\u00aa,\u00b5,\u00ba,\u00c0-\u00d6,\u00d8-\u00f6,\u00f8-\u02c1,\u02c6-\u02d1,\u02e0-\u02e4,\u02ec,\u02ee,\u0370-\u0374,\u0376-\u0377,\u037a-\u037d,\u0386,\u0388-\u038a,\u038c,\u038e-\u03a1,\u03a3-\u03f5,\u03f7-\u0481,\u048a-\u0523,\u0531-\u0556,\u0559,\u0561-\u0587,\u05d0-\u05ea,\u05f0-\u05f2,\u0621-\u064a,\u0660-\u0669,\u066e-\u066f,\u0671-\u06d3,\u06d5,\u06e5-\u06e6,\u06ee-\u06fc,\u06ff,\u0710,\u0712-\u072f,\u074d-\u07a5,\u07b1,\u07c0-\u07ea,\u07f4-\u07f5,\u07fa,\u0904-\u0939,\u093d,\u0950,\u0958-\u0961,\u0966-\u096f,\u0971-\u0972,\u097b-\u097f,\u0985-\u098c,\u098f-\u0990,\u0993-\u09a8,\u09aa-\u09b0,\u09b2,\u09b6-\u09b9,\u09bd,\u09ce,\u09dc-\u09dd,\u09df-\u09e1,\u09e6-\u09f1,\u0a05-\u0a0a,\u0a0f-\u0a10,\u0a13-\u0a28,\u0a2a-\u0a30,\u0a32-\u0a33,\u0a35-\u0a36,\u0a38-\u0a39,\u0a59-\u0a5c,\u0a5e,\u0a66-\u0a6f,\u0a72-\u0a74,\u0a85-\u0a8d,\u0a8f-\u0a91,\u0a93-\u0aa8,\u0aaa-\u0ab0,\u0ab2-\u0ab3,\u0ab5-\u0ab9,\u0abd,\u0ad0,\u0ae0-\u0ae1,\u0ae6-\u0aef,\u0b05-\u0b0c,\u0b0f-\u0b10,\u0b13-\u0b28,\u0b2a-\u0b30,\u0b32-\u0b33,\u0b35-\u0b39,\u0b3d,\u0b5c-\u0b5d,\u0b5f-\u0b61,\u0b66-\u0b6f,\u0b71,\u0b83,\u0b85-\u0b8a,\u0b8e-\u0b90,\u0b92-\u0b95,\u0b99-\u0b9a,\u0b9c,\u0b9e-\u0b9f,\u0ba3-\u0ba4,\u0ba8-\u0baa,\u0bae-\u0bb9,\u0bd0,\u0be6-\u0bef,\u0c05-\u0c0c,\u0c0e-\u0c10,\u0c12-\u0c28,\u0c2a-\u0c33,\u0c35-\u0c39,\u0c3d,\u0c58-\u0c59,\u0c60-\u0c61,\u0c66-\u0c6f,\u0c85-\u0c8c,\u0c8e-\u0c90,\u0c92-\u0ca8,\u0caa-\u0cb3,\u0cb5-\u0cb9,\u0cbd,\u0cde,\u0ce0-\u0ce1,\u0ce6-\u0cef,\u0d05-\u0d0c,\u0d0e-\u0d10,\u0d12-\u0d28,\u0d2a-\u0d39,\u0d3d,\u0d60-\u0d61,\u0d66-\u0d6f,\u0d7a-\u0d7f,\u0d85-\u0d96,\u0d9a-\u0db1,\u0db3-\u0dbb,\u0dbd,\u0dc0-\u0dc6,\u0e01-\u0e30,\u0e32-\u0e33,\u0e40-\u0e46,\u0e50-\u0e59,\u0e81-\u0e82,\u0e84,\u0e87-\u0e88,\u0e8a,\u0e8d,\u0e94-\u0e97,\u0e99-\u0e9f,\u0ea1-\u0ea3,\u0ea5,\u0ea7,\u0eaa-\u0eab,\u0ead-\u0eb0,\u0eb2-\u0eb3,\u0ebd,\u0ec0-\u0ec4,\u0ec6,\u0ed0-\u0ed9,\u0edc-\u0edd,\u0f00,\u0f20-\u0f29,\u0f40-\u0f47,\u0f49-\u0f6c,\u0f88-\u0f8b,\u1000-\u102a,\u103f-\u1049,\u1050-\u1055,\u105a-\u105d,\u1061,\u1065-\u1066,\u106e-\u1070,\u1075-\u1081,\u108e,\u1090-\u1099,\u10a0-\u10c5,\u10d0-\u10fa,\u10fc,\u1100-\u1159,\u115f-\u11a2,\u11a8-\u11f9,\u1200-\u1248,\u124a-\u124d,\u1250-\u1256,\u1258,\u125a-\u125d,\u1260-\u1288,\u128a-\u128d,\u1290-\u12b0,\u12b2-\u12b5,\u12b8-\u12be,\u12c0,\u12c2-\u12c5,\u12c8-\u12d6,\u12d8-\u1310,\u1312-\u1315,\u1318-\u135a,\u1380-\u138f,\u13a0-\u13f4,\u1401-\u166c,\u166f-\u1676,\u1681-\u169a,\u16a0-\u16ea,\u1700-\u170c,\u170e-\u1711,\u1720-\u1731,\u1740-\u1751,\u1760-\u176c,\u176e-\u1770,\u1780-\u17b3,\u17d7,\u17dc,\u17e0-\u17e9,\u1810-\u1819,\u1820-\u1877,\u1880-\u18a8,\u18aa,\u1900-\u191c,\u1946-\u196d,\u1970-\u1974,\u1980-\u19a9,\u19c1-\u19c7,\u19d0-\u19d9,\u1a00-\u1a16,\u1b05-\u1b33,\u1b45-\u1b4b,\u1b50-\u1b59,\u1b83-\u1ba0,\u1bae-\u1bb9,\u1c00-\u1c23,\u1c40-\u1c49,\u1c4d-\u1c7d,\u1d00-\u1dbf,\u1e00-\u1f15,\u1f18-\u1f1d,\u1f20-\u1f45,\u1f48-\u1f4d,\u1f50-\u1f57,\u1f59,\u1f5b,\u1f5d,\u1f5f-\u1f7d,\u1f80-\u1fb4,\u1fb6-\u1fbc,\u1fbe,\u1fc2-\u1fc4,\u1fc6-\u1fcc,\u1fd0-\u1fd3,\u1fd6-\u1fdb,\u1fe0-\u1fec,\u1ff2-\u1ff4,\u1ff6-\u1ffc,\u203f-\u2040,\u2054,\u2071,\u207f,\u2090-\u2094,\u2102,\u2107,\u210a-\u2113,\u2115,\u2119-\u211d,\u2124,\u2126,\u2128,\u212a-\u212d,\u212f-\u2139,\u213c-\u213f,\u2145-\u2149,\u214e,\u2183-\u2184,\u2c00-\u2c2e,\u2c30-\u2c5e,\u2c60-\u2c6f,\u2c71-\u2c7d,\u2c80-\u2ce4,\u2d00-\u2d25,\u2d30-\u2d65,\u2d6f,\u2d80-\u2d96,\u2da0-\u2da6,\u2da8-\u2dae,\u2db0-\u2db6,\u2db8-\u2dbe,\u2dc0-\u2dc6,\u2dc8-\u2dce,\u2dd0-\u2dd6,\u2dd8-\u2dde,\u2e2f,\u3005-\u3006,\u3031-\u3035,\u303b-\u303c,\u3041-\u3096,\u309d-\u309f,\u30a1-\u30fa,\u30fc-\u30ff,\u3105-\u312d,\u3131-\u318e,\u31a0-\u31b7,\u31f0-\u31ff,\u3400-\u4db5,\u4e00-\u9fc3,\ua000-\ua48c,\ua500-\ua60c,\ua610-\ua62b,\ua640-\ua65f,\ua662-\ua66e,\ua67f-\ua697,\ua717-\ua71f,\ua722-\ua788,\ua78b-\ua78c,\ua7fb-\ua801,\ua803-\ua805,\ua807-\ua80a,\ua80c-\ua822,\ua840-\ua873,\ua882-\ua8b3,\ua8d0-\ua8d9,\ua900-\ua925,\ua930-\ua946,\uaa00-\uaa28,\uaa40-\uaa42,\uaa44-\uaa4b,\uaa50-\uaa59,\uac00-\ud7a3,\uf900-\ufa2d,\ufa30-\ufa6a,\ufa70-\ufad9,\ufb00-\ufb06,\ufb13-\ufb17,\ufb1d,\ufb1f-\ufb28,\ufb2a-\ufb36,\ufb38-\ufb3c,\ufb3e,\ufb40-\ufb41,\ufb43-\ufb44,\ufb46-\ufbb1,\ufbd3-\ufd3d,\ufd50-\ufd8f,\ufd92-\ufdc7,\ufdf0-\ufdfb,\ufe33-\ufe34,\ufe4d-\ufe4f,\ufe70-\ufe74,\ufe76-\ufefc,\uff10-\uff19,\uff21-\uff3a,\uff3f,\uff41-\uff5a,\uff66-\uffbe,\uffc2-\uffc7,\uffca-\uffcf,\uffd2-\uffd7,\uffda-\uffdc":
"")+"-]","g"),"");a=a.replace(/^[#+-]+/,"");a=a.replace(/[.-]+$/,"");0<a.length&&-1==$.inArray(a,b)&&b.push(a)}return b}
StackExchange.question=function(){var e=function(a,b){var c=null!=a;a||(a=$("div.question div.post-menu a.short-link"));var d=a.closest(".post-menu, .help-menu");if(a.hasClass("share-link"))d.find(".close-share-tip").click();else{a.addClass("share-link");var g=a.attr("id").substring(10),e=a.closest(".col-section").length?"section":a.closest("div.question").length?"question":"answer",h="http://"+document.location.host+a.attr("href"),i=("answer"==e?"Answer: ":"")+$("#question-header a").text(),k='<div class="share-tip" style="display:none">share a link to this '+
e+'<input type="text" value="'+h+'" style="display:block; width:292px;">';StackExchange.options.site.enableSocialMediaInSharePopup&&(k+='<div id="share-icons"><a id="share-gp-'+g+'" class="share-gp" title="share link to this '+e+' on Google+">share [g+]</a><a id="share-fb-'+g+'" class="share-fb" title="share link to this '+e+' on Facebook">share [fb]</a><a id="share-tw-'+g+'" class="share-tw" title="share link to this '+e+' on Twitter">share [tw]</a></div>');var j=$(k+'<a class="close-share-tip" style="float:right">close</a></div>');
StackExchange.options.site.enableSocialMediaInSharePopup&&(e=encodeURIComponent(h),i=encodeURIComponent(i),StackExchange.share.gplus($("#share-gp-"+g,j),e,i,"2"),StackExchange.share.facebook($("#share-fb-"+g,j),e,i,"2"),StackExchange.share.twitter($("#share-tw-"+g,j),e,i,"2"),$("#share-icons a",j).click(function(){j.fadeOutAndRemove()}));b&&j.find(".close-share-tip").before('<a id="link-post-'+g+'" style="float:left">cite</a>');j.appendTo(d).fadeIn(c?"fast":0).bind("removing",function(){a.removeClass("share-link")}).find(".close-share-tip").click(function(){j.fadeOutAndRemove()}).end().find("input[type=text]").select()}},
d=function(a){var b=$("#post-form h2:first"),c=b.wrap("<div />").parent(),d=c.wrap("<div />").parent(),g=$("<div />").prependTo(d),e=d.height(),i=$("<div />"),a=$(a),h=parseInt(b.css("margin-bottom")),k=$("#content"),j=$("#wmd-input").outerWidth(),q=k.offset().left>b.offset().left-5&&"visible"!=k.css("overflow-x");i.css({height:0,overflowY:"hidden"}).appendTo(c).append(a);d.css({height:e,position:"relative"});c.css({position:"absolute",bottom:-h,width:j});g.addClass("answer-help-background").css({position:"absolute",
bottom:-h,height:0,width:j});q&&(g.css("left",0),c.animate({paddingLeft:5},1E3));i.animate({height:a.height()+h+10},1E3);g.animate({height:a.height()+h+10+e},1E3);$("<div style='float:right;margin-top:10px;'><a href='#'>ok</a></div>").hide().prependTo(c).fadeIn(1E3).find("a").one("click",function(a){var d=$(this).parent();setTimeout(function(){d.remove()},1);i.animate({height:0},1E3,function(){i.add(g).remove();b.unwrap().unwrap()});g.animate({height:0},1E3);q&&c.animate({paddingLeft:0},1E3);a.preventDefault()})},
c=function(){$.get("/posts/answer-help").then(d)},b,h,a,k=function(){var a=window.location.href;0>a.indexOf("#")||(a=a.match(/#(\d+|comment(\d+)_(\d+))/i))&&(a[2]?g(a[2],a[3]):i($(".answer[data-answerid="+a[1]+"]")))},g=function(a,b){var c="#comment-"+a,d=$(c);d.length?i(d):StackExchange.comments.loadAll($("#comments-link-"+b)).done(function(){i($(c))})},i=function(c){var d=a;c.css({backgroundColor:b}).animate({backgroundColor:d},2E3,"linear",function(){$(this).css("background-color","")});c.is(".comment")&&
c[0].scrollIntoView(!0)},j=function(a){a=a||{};$(".post-menu a.short-link").live("click",function(b){if(!b.ctrlKey&&!b.metaKey)return e($(this),a.showCitation),!1})};return{initTitleSearch:function(a,b,c){var d=document.title,g=0,e;a.attr("autocomplete","off");var i=function(i){var h=a.val();if(!(h==e&&!0!==i||StackExchange.options.site.newTitleSearchBoxEnabled&&0<$(".title-float-selected:visible").length)){for(var k=h.split(" "),j=0,r=0;r<k.length;r++)0<$.trim(k[r]).length&&j++;k=(new Date).getTime();
r=(k-g)/1E3;!0!==i&&(3>j||5>r)&&!a.hasClass("edit-field-overlayed")||(g=k,e=h,c&&(document.title=h?h+" - "+c:d),b.empty(),StackExchange.helpers.addSpinner(b),b.load("/search/titles?like="+escape(h),null,function(a){/\<label\>/i.exec(a)||(g=0);setTimeout(function(){b.find(".answer-link a").attr("target","_blank")},1)}))}},h=!1;b.mouseenter(function(){h=!0}).mouseleave(function(){h=!1});a.keyup(i).blur(function(){var a=function(){g=0;i()};if(h)b.one("mouseleave",a);else a()});return function(a){g=0;
i(a)}},showShareTip:e,getQuestionId:function(a){a=(a?a.closest(".question"):$(".question")).data("questionid");if(!a)throw Error("getQuestionId could not find an id");return a},highlightComment:g,initShareLinks:j,canViewVoteCounts:function(){return h},init:function(d){StackExchange.question.fullInit?StackExchange.question.fullInit(d):StackExchange.question.bindAnonymousVoteDisclaimers();StackExchange.comments.init({autoShowCommentHelp:d.autoShowCommentHelp});d.showShareTip&&e();$("input.anon-vote").live("click",
function(){var a=$(this),b=a.postId(),c=a.parent();c.closest(".question,.answer").unbind("mouseenter.helpful").unbind("mouseleave.helpful");c.text("sending feedback ...");setTimeout(function(){c.text("Thank you for your feedback.")},500);$.ajax({type:"POST",url:"/vote/anon/"+b,data:{votetypeid:"Yes"==a.val()?2:3},complete:function(){}})});var g=$(".was-this-helpful"),i=g.css("color"),n=$(".post-text").css("color");g.each(function(){var a=$(this),b=a.text();a.closest(".answer, .question").bind("mouseenter.helpful",
function(){a.html("Was this post useful to you? &nbsp;&nbsp;<input style='display:none;' class='anon-vote' type='button' value='Yes'/> &nbsp;<input style='display:none;' class='anon-vote' type='button' value='No'/>").stop(!0,!0).animate({color:n},"fast","linear").find("input").fadeIn("fast")}).bind("mouseleave.helpful",function(){a.text(b).stop(!0,!0).animate({color:i},"fast","linear")})});j(d);if(d.showAnswerHelp)$("#wmd-input").one("focus",c);d.showCitation&&$("div.share-tip a[id^='link-post-']").live("click",
function(){$(this).closest(".post-menu").find(".close-share-tip").click();citation.show($(this))});a=d.backgroundColor;b=d.highlightColor;h=d.canViewVoteCounts;k(d)}}}();
StackExchange.question.bindAnonymousVoteDisclaimers=function(){function e(d){return function(c){var b='Please <a href="/users/login?returnurl='+escape(document.location)+'">login or register</a> to '+d+" this post.";StackExchange.helpers.showErrorPopup($(this).parent(),b);var b="",e=$(this).prop("className"),a=$(this).closest(".answer").length?"answer":"question";/vote-up/.test(e)?b="?vote=up&type="+a:/vote-down/.test(e)?b="?vote=down&type="+a:/star/.test(e)&&(b="?vote=favorite");StackExchange.helpers.fireAndForget("/analytics/user/try-vote"+
b);c.preventDefault()}}$(".vote-up-off, .vote-down-off").click(e("vote for"));$("div.post-menu a[id^='flag-post-']").unbind("click").click(e("flag"));$(".star-off:not(.disabled)").live("click",e("favorite"));StackExchange.question.bindFetchAcceptedAnswerDates()};
StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".load-accepted-answer-date").hover(function(){var e=$(this);if(!e.is(":working")){e.working(!0);var d=e.closest(".answer").data("answerid");d?$.get("/posts/"+d+"/accepted-answer-date",function(c){e.attr("title",c)}):e.attr("title","")}})};
StackExchange.comments=function(){function e(a,b){this.postId=a;this.jDiv=b;this.jCommentsLink=$("#comments-link-"+a)}function d(a){var c=(a.constructor===$?a:$(a)).closest(".question, .answer, div[id^='post-']").find(".comments"),a=c.attr("id").replace(/^comments-/,"");if(b[a])return b[a];c=new e(a,c);return b[a]=c}function c(){if(0!=$(".question[data-questionid]").length){var a=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var b=$(this),c=b.closest(".answer"),
c=c&&c.length?c.data("answerid"):0,d=b.closest(".comment").attr("id").substr(8);b.wrap('<a class="comment-link" onclick="StackExchange.question.highlightComment({cid}, {aid})" href="{hash}"></a>'.format({hash:"#comment"+d+"_"+(c?c:a),cid:d,aid:c}))})}}var b={},h=function(){};e.prototype={checkDiscussion:h,ensureInput:h,saveEditingComments:h,restoreEditingComments:h,commentsShown:function(){this.jCommentsLink.hide();this.jCommentsLink.data("comments-count",0)},addShow:function(a){var b=this;this.loadAllComments().done(function(){b.jCommentsLink.hide();
b.checkDiscussion()});var c=this.ensureInput();c&&!a&&c.focus()},ajax:function(a,b,c,d){c&&!d&&StackExchange.helpers.addSpinner(c,{"margin-left":"10px"});var e=this;return $.ajax(a).fail(function(a){$(".error-notification").fadeOut("fast",function(){$(this).remove()});a=a.responseText;if(!a||100<=a.length)a="An error occured"+(b?" "+b:"");StackExchange.helpers.showErrorPopup(c||e.jDiv,a);c&&!d&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},showComments:function(a,
b){this.saveEditingComments(b);this.jDiv.find(" > table > tbody").html(a);this.restoreEditingComments();this.jCommentsLink.text("add comment");"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);c();this.commentsShown()},loadAllComments:function(a){this.jDiv.removeClass("dno");if(!a&&!/more comment/.test($("#comments-link-"+this.postId).text()))return $.Deferred().resolve().promise();var b=this;return this.ajax({type:"GET",url:"/posts/"+this.postId+"/comments",dataType:"html"},
"while fetching comments").done(function(a){b.showComments(a)}).promise()}};return{init:function(a){a=a&&a.post||document;$("a[id^='comments-link-']",a).click(function(){var a=/more comment/.test($(this).text());d(this).addShow(a)});a==document&&c()},loadAll:function(a){return d(a).loadAllComments(!0)},extendPostUi:function(a){for(var b in a)a.hasOwnProperty(b)&&(e.prototype[b]=a[b])},uiForPost:d}}();
StackExchange.share=function(){function e(c,b,d){window.open(c,b,d)||(window.location.href=c)}function d(c,b,d){var b=b+("="+("undefined"!==typeof d?d:"1")),d=c.indexOf("?"),a=c.indexOf("#");return-1==d?-1==a?c+"?"+b:c.substring(0,a)+"?"+b+c.substring(a):-1==a?c+"&"+b:c.substring(0,a)+"&"+b+c.substring(a)}return{gplus:function(c,b,h,a){b=d(b,"sgp",a);c.click(function(){e("https://plus.google.com/share?url="+b,"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},twitter:function(c,
b,h,a){b=d(b,"stw",a);c.click(function(){e("http://twitter.com/share?url="+b+"&ref=twitbtn&text="+h,"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},facebook:function(c,b,h,a){b=d(b,"sfb",a);c.click(function(){e("http://www.facebook.com/sharer.php?u="+b+"&ref=fbshare&t="+h,"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}();
function initTagRenderer(e,d){window.tagRenderer||(window.tagRendererRaw=function(c,b){var b=b||"",h="";b||(e&&-1<$.inArray(c,e)?h=" required-tag":d&&-1<$.inArray(c,d)&&(h=" moderator-tag"));return"<a class='post-tag"+h+"' href='"+b+"/questions/tagged/"+encodeURIComponent(c)+"' title=\"show questions tagged '"+c+"'\" rel='tag'>"+c+"</a>"},window.tagRenderer=function(c,b){return $(tagRendererRaw(c,b))})}
function showFadingHelpText(e){e.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}
function initFadingHelpText(){var e={"wmd-input":"#how-to-format",tagnames:"#how-to-tag","tag-editor":"#how-to-tag",title:"#how-to-title","wmd-input-42":"#how-to-format"},d=$("#wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42"),c=function(b){return $(b).parent().hasClass("tag-editor")?e["tag-editor"]:e[$(b).attr("id")]};d.focus(function(){var b=c(this);d.each(function(){var a=c(this);a!=b&&$(a).hide()});var e=$(b);e.is(":visible")||showFadingHelpText(e)})}
$.fn.extend({postId:function(){var e=this.first();if(!e.hasClass("answer")||!e.hasClass("question"))e=e.closest(".answer, .question");return parseInt(e.find(".vote input")[0].value)}});
StackExchange.newsletterAd=function(){function e(c){c=$('<div id="lightbox-panel" class="popup newsletter-popup" style="display:block"></div>').append('<div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div>').append(c);$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");c.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})}function d(){var c=
StackExchange.options.site.name,b=$(['<div style="text-align: left;">','<h2 style="margin-bottom: 15px;">Subscribe to the '+c+" weekly newsletter</h2>",'<p><strong><a href="/users/login?returnurl=/newsletter/signup/redirect">Create an account on '+c+'</a> or <a href="/users/login?returnurl=/newsletter/signup/redirect">log in</a> if you already have one.</strong></p>','<form><label for="newsletter-email-input">Or, send newsletter emails to:</label> <input type="text" id="newsletter-email-input" maxlength="100" title="your email address" /> <input type="submit" value="Subscribe" id="newsletter-email-submit" /></form>',
$("#newsletter-ad .privacy-policy-agreement").parent().html(),"</div>"].join(""));b.find("form").submit(function(){var c=$(this),a=$.trim(b.find("#newsletter-email-input").val());if(0==a.length)return!1;StackExchange.helpers.addSpinner(c);$.ajax({url:"/newsletter/signup/anon",type:"POST",dataType:"json",data:{email:a},success:function(a){"confirmed"==a.status&&!a.error?(c.find("#newsletter-email-input").attr("disabled",!0),c.find("#newsletter-email-submit").replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),
$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>')):"unconfirmed"==a.status&&!a.error?(c.find("#newsletter-email-input").attr("disabled",!0),c.find("#newsletter-email-submit").replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),c.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):
c.showErrorPopup(a.error||"there was a problem signing up for the newsletter<br />please try again later")},error:function(){c.showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner(c)}});return!1});e(b)}return{init:function(){$("#newsletter-signup").click(function(){var c=$(this);if(StackExchange.options.user.isAnonymous)return d(),!1;StackExchange.helpers.addSpinner("#newsletter-signup-container");
$.ajax({url:"/newsletter/signup",type:"POST",dataType:"json",success:function(b){b.url?window.location.href=b.url:"confirmed"==b.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==b.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):c.parent().showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},
error:function(){c.parent().showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})});$("#newsletter-preview").click(function(){var c=$(window).height(),c=Math.min(600,c-100),c=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',c,'px;"><iframe src="',$(this).attr("href"),'" width="660" height="',c,'" frameborder="0"></iframe></div>'].join("");
e(c);return!1})},loader:function(c,b){var c=b||c,d=$(".newuser-greeting");$.ajax({url:"/newsletter/targetted/ajax",data:{domain:c},success:function(a){$("#newsletter-ad").remove();d.empty().append($(a))},complete:function(){d.attr("class","").attr("style","")}});b||(window.sessionStorage.tNewsletter=c+"-continued")}}}();
(function(e,d,c,b){var h=!("selectionStart"in e("<input type='text' />")[0]);e.fn.caret=function(a,e){var g,i,j=this[0];if("object"===typeof a&&"number"===typeof a.start&&"number"===typeof a.end)g=a.start,i=a.end;else if("number"===typeof a&&"number"===typeof e)g=a,i=e;else if("string"===typeof a)-1<(g=j.value.indexOf(a))?i=g+a[d]:g=null;else if("[object RegExp]"===Object.prototype.toString.call(a)){var f=a.exec(j.value);null!=f&&(g=f.index,i=g+f[0][d])}if("undefined"!=typeof g)return h?(f=this[0].createTextRange(),
f.collapse(!0),f.moveStart("character",g),f.moveEnd("character",i-g),f.select()):(this[0].selectionStart=g,this[0].selectionEnd=i),this[0].focus(),this;if(h)if(i=document.selection,"textarea"!=this[0].tagName.toLowerCase()){f=this.val();g=i[c]()[b]();g.moveEnd("character",f[d]);var o=""==g.text?f[d]:f.lastIndexOf(g.text);g=i[c]()[b]();g.moveStart("character",-f[d]);var m=g.text[d]}else g=i[c](),i=g[b](),i.moveToElementText(this[0]),i.setEndPoint("EndToEnd",g),o=i.text[d]-g.text[d],m=o+g.text[d];else o=
j.selectionStart,m=j.selectionEnd;g=j.value.substring(o,m);return{start:o,end:m,text:g,replace:function(a){return j.value.substring(0,o)+a+j.value.substring(m,j.value[d])}}}})(jQuery,"length","createRange","duplicate");
StackExchange.captcha=function(){return{init:function(e,d){function c(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()}var b=$(['<div id="lightbox-panel" class="popup captcha-popup" style="display: block; text-align: left;"><div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div>',e,"</div>"].join("")),h=b.find("form:first");$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");b.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(c);
$.getScript("http://api.recaptcha.net/js/recaptcha_ajax.js",function(){Recaptcha.create(StackExchange.options.site.recaptchaPublicKey,"recaptcha",{theme:"clean",callback:Recaptcha.focus_response_field});StackExchange.helpers.enableSubmitButton(h);h.submit(function(){StackExchange.helpers.disableSubmitButton(h);h.find('input[type="submit"]').addSpinnerAfter();$.ajax({url:"/captcha",type:"POST",dataType:"json",data:h.serialize(),success:function(a){a.captchaError?(StackExchange.helpers.removeSpinner(),
StackExchange.helpers.enableSubmitButton(h),h.find(".form-error").html(a.captchaError),Recaptcha.reload()):(c(),d(a))},error:function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.enableSubmitButton(h);StackExchange.helpers.showErrorPopup(h,"An error occurred submitting the CAPTCHA")}});return!1})})}}}();
StackExchange.gps=function(){function e(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(a,b){c(b)}),delete StackExchange._gps_track)}function d(){var b=localStorage[a];return!b?[]:JSON.parse(b)}function c(b){var c=localStorage[a];c?(c=JSON.parse(c),c.push(b),localStorage[a]=JSON.stringify(c)):localStorage[a]=JSON.stringify([b])}function b(b){var c=localStorage[a];if(c){for(var c=JSON.parse(c),b=JSON.stringify(b),d=-1,f=0;f<c.length;f++){var e=JSON.stringify(c[f]);if(b==e){d=
f;break}}-1!=d&&(c.splice(d,1),0==c.length?localStorage.removeItem(a):localStorage[a]=JSON.stringify(c))}}function h(a){$.isArray(a)||(a=[a]);$.ajax({type:"POST",url:"/gps/event",data:JSON.stringify(a),success:function(){for(var c=0;c<a.length;c++)b(a[c])}})}var a="gps-pending",k=!1;return{init:function(a){if(k)return!0;k=!0;if(!a||!window.localStorage)return StackExchange.gps.track=function(){},delete StackExchange._gps_track,!1;e();a=d();if(0<a.length){for(var c=(new Date).getTime(),j=[],f=0;f<
a.length;f++){var o=a[f],m=c-o.now;if(0>m||36E5<m||10<f){b(o);return}j.push(o)}0<j.length&&h(j)}return!0},track:function(a,b,d){b=b||{};a={evt:a,properties:b,now:(new Date).getTime()};c(a);d||h(a)}}}();
StackExchange.openid=function(){function e(a,b){var c=b.find(".option-extra-fields");c.hide();b.find(".yahoo-button").click(function(){c.hide();d(a,"yahoo")});var e=function(e){var f="."+e+"-option";c.show();c.find("> div:not("+f+")").hide();c.find(f+", .extra-field-container").show();b.find(".extra-field").val("").focus();f=b.find(".extra-field-submit");f.unbind("click");f.click(function(){d(a,e,b.find(".extra-field").val())})};b.find(".blogger-button").click(function(){e("blogger")});b.find(".aol-button").click(function(){e("aol")})}
function d(a,b,c){b=h[b];c&&(b=b.replace("{username}",c));a.find(".use-facebook").val("false");a.find(".manual-openid").val(b);a.find(".submit-openid").click()}function c(a){var c=a.find(".manual-openid").val();a.find(".use-facebook").val();window.location!=b&&(window.location=b);StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(function(){var a=$('<form method="post" action="/users/authenticate?returnurl='+encodeURIComponent(b)+'"></form>');if(c){var d=$('<input type="hidden" name="openid_identifier" />');
a.append(d);d.val(c)}else{var d=$('<input type="hidden" name="oauth_version" />'),e=$('<input type="hidden" name="oauth_server" />');a.append(d);a.append(e);d.val("2.0");e.val("https://graph.facebook.com/oauth/authorize")}StackExchange.navPrevention.stop();a.submit()})})}var b,h={yahoo:"http://yahoo.com/",google:"https://www.google.com/accounts/o8/id",aol:"http://openid.aol.com/{username}",blogger:"http://{username}.blogspot.com/"};return{initPostLogin:function(a,h){b=decodeURIComponent(h);var g=
$(a),i=g.find(".new-login-left"),j=g.find(".new-login-right"),f=i.find(".show-more-options");f.click(function(){f.hide();j.show();return!1});j.find(".hide-more-options").click(function(){f.show();j.hide();return!1});j.hide();g.removeClass("dno");e(g,j);i.find(".google-login").click(function(){d(g,"google")});i.find(".facebook-login").click(function(){g.find(".use-facebook").val("true");g.find(".manual-openid").val("");g.find(".submit-openid").click()});j.find(".submit-openid").click(function(){c(g)})}}}();
